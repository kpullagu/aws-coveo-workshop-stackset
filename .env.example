# ============================================================================
# Workshop Environment Configuration - Example
# ============================================================================
# Copy this file to .env and fill in your values
# This is the single source of truth for all environment variables

# ============================================================================
# Server Configuration (Frontend)
# ============================================================================
PORT=3003
NODE_ENV=development

# ============================================================================
# Coveo API Configuration (REQUIRED)
# ============================================================================
# Get these from your Coveo Administration Console
COVEO_ORG_ID=your-org-id-here
COVEO_SEARCH_API_KEY=your-api-key-here
COVEO_PLATFORM_URL=https://platform.cloud.coveo.com
COVEO_SEARCH_PIPELINE=aws-workshop-pipeline
COVEO_SEARCH_HUB=aws-workshop
COVEO_ANSWER_CONFIG_ID=your-answer-config-id-here
COVEO_RESULTS_PER_PAGE=20

# ============================================================================
# AWS Configuration
# ============================================================================
# Get API_GATEWAY_URL from CloudFormation outputs after deployment
AWS_REGION=us-east-1
API_GATEWAY_URL=https://xxxxx.execute-api.us-east-1.amazonaws.com

# ============================================================================
# Cognito Configuration
# ============================================================================
# USER_POOL_ID and CLIENT_ID are auto-populated from CloudFormation outputs
COGNITO_USER_POOL_ID=  # From CloudFormation outputs
COGNITO_CLIENT_ID=  # From CloudFormation outputs

# REGION and DOMAIN are set by user (used by all components)
COGNITO_REGION=us-east-1
COGNITO_DOMAIN=workshop-auth

# ============================================================================
# Test User Configuration (for deployment scripts)
# ============================================================================
# These credentials are used by deployment scripts to create a test Cognito user
# Change these to your preferred test user credentials
TEST_USER_EMAIL=testuser@example.com
TEST_USER_PASSWORD=TempPassword123!

# ============================================================================
# Bedrock Agent Configuration (Optional - Lab 2)
# ============================================================================
# Get these from CloudFormation outputs after Lab 2 deployment
BEDROCK_AGENT_ID=XXXXXXXXXX
BEDROCK_AGENT_ALIAS_ID=XXXXXXXXXX

# ============================================================================
# Notes
# ============================================================================
# Required before deployment:
# - COVEO_ORG_ID
# - COVEO_SEARCH_API_KEY
# - COVEO_ANSWER_CONFIG_ID
#
# Auto-populated after deployment:
# - API_GATEWAY_URL (from CloudFormation)
# - COGNITO_USER_POOL_ID (from CloudFormation)
# - COGNITO_CLIENT_ID (from CloudFormation)
# - BEDROCK_AGENT_ID (from CloudFormation - Lab 2)
# - BEDROCK_AGENT_ALIAS_ID (from CloudFormation - Lab 2)

# =============================================================================
# EXAMPLE CONFIGURATIONS FOR DIFFERENT ENVIRONMENTS
# =============================================================================

# -----------------------------------------------------------------------------
# Development Environment Example
# -----------------------------------------------------------------------------
# NODE_ENV=development
# PORT=3003
# COVEO_SEARCH_PIPELINE=default
# COVEO_SEARCH_HUB=development

# -----------------------------------------------------------------------------
# Staging Environment Example
# -----------------------------------------------------------------------------
# NODE_ENV=staging
# PORT=3003
# COVEO_SEARCH_PIPELINE=staging-pipeline
# COVEO_SEARCH_HUB=staging

# -----------------------------------------------------------------------------
# Production Environment Example
# -----------------------------------------------------------------------------
# NODE_ENV=production
# PORT=3003
# COVEO_SEARCH_PIPELINE=production-pipeline
# COVEO_SEARCH_HUB=production

# =============================================================================
# SECURITY NOTES
# =============================================================================
#
# API Key Permissions Required:
# - COVEO_SEARCH_API_KEY: Search API permissions (read-only access)
#   * Perform searches and retrieve results
#   * Access facets and metadata
#   * Generate AI answers (if Answer API is enabled)
#   * Retrieve passages and content
#
# Security Best Practices:
# - Never commit .env file to version control
# - Use different API keys for different environments (dev/staging/prod)
# - Regularly rotate API keys
# - Use minimum required permissions for each key
# - Store production keys in secure key management systems
# - Monitor API usage for anomalies
#
# Environment-Specific Considerations:
# - Development: Use separate dev organization or restricted API keys
# - Staging: Mirror production configuration with staging data
# - Production: Use production API keys with monitoring and alerting
#
# Lambda Function ARNs:
# - These are created by CloudFormation deployment
# - Used by frontend/server.js to route requests to different backends
# - All ARNs are required for the application to function

# MCP Configuration:
# - MCP Server URL is NOT in .env
# - It's stored in SSM Parameter Store: /workshop/mcp/server-url
# - Lambda functions load it automatically from SSM
#
# =============================================================================